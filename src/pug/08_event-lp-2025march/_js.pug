script.
  // モーダルを開くボタンのクリックイベント
  $('.modal-open-liff-qr').click(function() {
    $('.modal,.bg-modal').show();
  });

  // モーダルを閉じるボタンと背景のクリックイベント
  $('.modal-close,.bg-modal').click(function() {
    $('.modal,.bg-modal').hide();
  });

script.
  $(document).ready(function () {
    // モーダルを閉じるボタンと背景のクリックイベント
    $('.modal-close,.bg-modal').click(function() {
      $('.modal,.bg-modal').hide();
    });

    // スクロールイベントで固定CTAボタンの表示を制御
    $(window).on("scroll", function () {
      const scrollPosition = $(window).scrollTop(); // 現在のスクロール位置を取得

      if (scrollPosition > 500) {
        $('.fixed-cta-button').fadeIn();
      } else {
        $('.fixed-cta-button').fadeOut();
      }

      // セクションのスクロールイベントを処理する関数
      function handleScrollEvent(sectionSelector, linkSelector) {
        $(sectionSelector).each(function () {
          const $section = $(this); // 現在ループ中のセクションを jQuery オブジェクトとして取得
          const sectionTop = $section.offset().top; // セクションの上端の位置（ページ全体に対する座標）
          const sectionHeight = $section.outerHeight(); // セクションの高さ
          const sectionId = $section.attr("id"); // セクションの ID を取得

          console.log(`Checking section: ${sectionId}, Top: ${sectionTop}, Scroll: ${scrollPosition}`);

          // スクロール位置がセクション内にあるかチェック
          if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
            $(linkSelector).removeClass("active"); // すべてのリンクから 'active' クラスを削除
            $(`${linkSelector}[href="#${sectionId}"]`).addClass("active"); // 該当するリンクに 'active' クラスを付与

            console.log(`Activated link for: ${sectionId}`); // どのセクションのリンクがアクティブになったか確認
          }
        });
      }

      // PC用ナビゲーション
      handleScrollEvent(".lp-25mar-events-main-section-levels", ".lp-25mar-events-sub-left-subject-wrap-level");

      // スマホ用ナビゲーション
      handleScrollEvent(".lp-25mar-events-main-section", ".lp-25mar-events-spnavi-child");
    });

    // inview を一括適用
    const inviewElements = $(".lp-25mar-feature-grid-child-img, .lp-25mar-events-main-section-levels-child, .lp-25mar-events-main-section-levels-child-img, .lp-25mar-intro-title, .lp-25mar-fv-title, .lp-25mar-fv-grid-child, .lp-25mar-events-sub");
    inviewElements.on("inview", function (event, isInView) {
      if (isInView) {
        $(this).addClass("inview");
      }
    });
  });